{"ast":null,"code":"var _jsxFileName = \"/Users/icdoleo/HDocuments/dev/synchrify-frontend/src/pages/ViewRate/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst ViewRate = () => {\n  const {\n    user_id\n  } = useParams();\n  const {\n    content_id\n  } = useParams();\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    fetch('http://127.0.0.1:8000/spotify/user/fetch_tracks?tracks=' + content_id, {\n      method: 'GET',\n      credentials: 'include'\n    }).then(resp => {\n      return resp.json();\n    }).then(data => {\n      return trackInfoHandler(data);\n    }).catch(err => {\n      return console.error(err);\n    });\n    fetch('http://127.0.0.1:8000/content/' + id + '/rating/' + user_id, {\n      method: 'GET',\n      credentials: 'include'\n    }).then(resp => {\n      return resp.json();\n    }).then(data => {\n      console.log(data);\n      return setCurrentRating(data.rating);\n    }).catch(err => {\n      return console.error(err);\n    });\n  }, [content_id, user_id, id]);\n  const [currentRating, setCurrentRating] = useState(0);\n  const [trackInfo, setTrackInfo] = useState({\n    img: '',\n    name: '',\n    artist: '',\n    album: ''\n  });\n\n  const trackInfoHandler = props => {\n    console.log(props);\n    setTrackInfo({\n      img: props.tracks[0].album.images[1].url,\n      name: props.tracks[0].name,\n      artist: props.tracks[0].artists[0].name,\n      album: props.tracks[0].album.name\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"User \", user_id, \"'s Rating\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/ratings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: trackInfo.img,\n    alt: trackInfo.album,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 67\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Track Name:\"), \" \", trackInfo.name, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 49\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"By: \"), trackInfo.artist, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 43\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"From the Album:\"), \" \", trackInfo.album), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"User \", user_id, \" gave this track a rating of \", currentRating), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 83\n    }\n  })));\n};\n\nexport default ViewRate;","map":{"version":3,"sources":["/Users/icdoleo/HDocuments/dev/synchrify-frontend/src/pages/ViewRate/index.js"],"names":["React","useState","useEffect","useParams","ViewRate","user_id","content_id","id","fetch","method","credentials","then","resp","json","data","trackInfoHandler","catch","err","console","error","log","setCurrentRating","rating","currentRating","trackInfo","setTrackInfo","img","name","artist","album","props","tracks","images","url","artists"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst ViewRate = () => {\n    const { user_id } = useParams();\n    const { content_id } = useParams();\n    const { id } = useParams();\n    useEffect(() => {\n            fetch('http://127.0.0.1:8000/spotify/user/fetch_tracks?tracks='+content_id, {\n                method: 'GET',\n                credentials: 'include',\n            })\n            .then((resp) => {\n                return resp.json();\n            })\n            .then((data) => {\n                return trackInfoHandler(data);\n            })\n            .catch((err) => {\n                return console.error(err);\n            })\n\n            fetch('http://127.0.0.1:8000/content/'+id+'/rating/'+user_id, {\n                method: 'GET',\n                credentials: 'include',\n              })\n              .then((resp) => {\n                return resp.json();\n              })\n              .then((data) => {\n                console.log(data);\n                return setCurrentRating(data.rating);\n              })\n              .catch((err) => {\n                return console.error(err);\n              })\n    }, [content_id, user_id, id]);\n\n    const [currentRating, setCurrentRating] = useState(0);\n    const [trackInfo, setTrackInfo] = useState({\n        img: '',\n        name: '',\n        artist: '',\n        album: ''\n    });\n    const trackInfoHandler = (props) => {\n        console.log(props);\n        setTrackInfo({\n            img: props.tracks[0].album.images[1].url,\n            name: props.tracks[0].name,\n            artist: props.tracks[0].artists[0].name,\n            album: props.tracks[0].album.name\n        });\n    };\n    return (\n        <div>\n        <h1>User {user_id}'s Rating</h1>\n        <a href='/ratings'>Back</a>\n        <div>\n            {/* <h2>You are currently viewing:</h2> <br/> */}\n            <img src={trackInfo.img} alt={trackInfo.album}></img> <br/>\n            <b>Track Name:</b> {trackInfo.name} <br/>\n            <b>By: </b>{trackInfo.artist} <br/>\n            <b>From the Album:</b> {trackInfo.album}\n        </div>\n        <div>\n                <br/>\n                <b>User {user_id} gave this track a rating of {currentRating}</b> <br/>\n            {/* <button onClick={cancelHandler}>Cancel</button> */}\n        </div>\n    </div>\n    );\n};\n\nexport default ViewRate;"]},"metadata":{},"sourceType":"module"}